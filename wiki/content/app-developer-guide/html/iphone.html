<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 13. iOS</title><link rel="stylesheet" href="css/seamframework.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="OpenMobster - Mobile Cloud Platform"/><link rel="up" href="index.html" title="OpenMobster - Mobile Cloud Platform"/><link rel="prev" href="mobletmvc.html" title="Chapter 12. Mobile MVC Framework"/></head><body><p id="title"><a href="http://www.seamframework.org" class="site_href"><strong>SeamFramework.org</strong></a><a href="http://www.seamframework.org/Documentation" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="mobletmvc.html"><strong>Prev</strong></a></li><li class="next"/></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="iphone"/>Chapter 13. iOS</h2></div><div><div class="author"><h3 class="author"><span class="firstname">openmobster</span> <span class="surname">at gmail.com</span></h3><code class="email">&lt;<a class="email" href="mailto:openmobster@gmail.com">openmobster@gmail.com</a>&gt;</code></div></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="iphone.html#d0e1844">13.1. iOS</a></span></dt><dt><span class="sect1"><a href="iphone.html#d0e1849">13.2. Integration Tips</a></span></dt><dt><span class="sect1"><a href="iphone.html#d0e1867">13.3. App Integration</a></span></dt></dl></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e1844"/>13.1. iOS</h2></div></div></div><p>
   			As of version 2.2-M1, iOS is fully supported by OpenMobster. Here are some tips related to iOS and OpenMobster integration
   		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e1849"/>13.2. Integration Tips</h2></div></div></div><div class="itemizedlist"><ul><li>
   				There is an XCode project called <span class="emphasis"><em>mobilecloudlib</em></span>. This produces the static library that houses
   				the entire OpenMobster runtime for iOS. In order to write Apps this library should be linked with the App
   			</li><li>
   				To obtain the static library, you must open <span class="emphasis"><em>mobilecloudlib</em></span> in XCode and do a full build.
   			</li><li><span class="bold"><strong>Some tips with build issues</strong></span>: You must make sure that the User Header Path value in your project recursively points to
   				a valid local directory on your machine. By default, this value is the path on my development machine.
   			</li></ul></div></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e1867"/>13.3. App Integration</h2></div></div></div><div class="itemizedlist"><ul><li><span class="bold"><strong>Step 1</strong></span>: Link libmobilecloudlib.a file
   				in your project, under Frameworks, do "Add Existing Files", locate the library stored in the build folder of mobilecloudlib. 
   			</li><li><span class="bold"><strong>Step 2</strong></span>: Link CFNetwork.Framework and CoreData?.Framework
   				Under Frameworks, do "Add Existing Frameworks", locate both the frameworks and add them 
   			</li><li><span class="bold"><strong>Step 3</strong></span>: Copy Resources
   				Drag-n-Drop all the resources located under the app-bundle group of mobilecloudlib into the Resources group of your project. 
   			</li><li><span class="bold"><strong>Step 4</strong></span>:Integrate via the App Delegate
   				You can add code to start and stop the Cloud infrastructure within your App delegate object. The code for doing this follows: 
   				<span class="bold"><strong>Start Cloud Service</strong></span><pre class="programlisting">
   				
   		-(void)startCloudService
{
        @try 
        {
                Kernel *kernel = [Kernel getInstance];
                [kernel startup];
                
                UIKernel *uiKernel = [UIKernel getInstance];
                [uiKernel startup:mainView];
        }
        @catch (NSException * e) 
        {
                //something caused the kernel to crash
                //stop the kernel
                [self stopCloudService];
        }
}
   				
   				</pre><span class="bold"><strong>Stop Cloud Service</strong></span><pre class="programlisting">
   				
   		-(void)stopCloudService
{
        @try
        {
                UIKernel *uiKernel = [UIKernel getInstance];
                [uiKernel shutdown];
        
                Kernel *kernel = [Kernel getInstance];
                [kernel shutdown];
        }
        @catch (NSException *e) 
        {
                
        }
}
   				
   				</pre>
   				These two methods are called by various App Delegate methods depending on the life cycle. Here are the various integration points 
   				<span class="bold"><strong>-(BOOL)application:(UIApplication )application didFinishLaunchingWithOptions:(NSDictionary )launchOptions</strong></span><pre class="programlisting">
   				
   	-(BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions 
{    
    // Override point for customization after application launch.
        [window addSubview:mainView.view];
    [window makeKeyAndVisible];
        
        [self startCloudService];
        
        return YES;
}
   				
   				</pre><span class="bold"><strong>-(void)applicationWillEnterForeground:(UIApplication )application</strong></span><pre class="programlisting">
   				
   				/*
     Called as part of  transition from the background to the inactive state: here you can undo many of the changes made on entering the background.
     */
        AppService *appService = [AppService getInstance];
        [appService start];
   				
   				</pre><span class="bold"><strong>-(void)applicationWillTerminate:(UIApplication )application</strong></span><pre class="programlisting">
   				
   	-(void)applicationWillTerminate:(UIApplication *)application 
{
    /*
     Called when the application is about to terminate.
     See also applicationDidEnterBackground:.
     */
        [self stopCloudService];
}
   				
   				</pre></li></ul></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="mobletmvc.html"><strong>Prev</strong>Chapter 12. Mobile MVC Framework</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li></ul></body></html>